project('cpp-first-app', 'cpp',
  version: '1.0',
  default_options: [
    'cpp_std=c++20',
    'warning_level=3',
    'werror=true',
    'buildtype=debug',
    'default_library=static',
    'b_ndebug=if-release',
    'b_lto=true'
  ])

compiler = meson.get_compiler('cpp')

src_files = ['src/main.cpp']

executable(
  meson.project_name(),
  src_files,
  install: true,
  cpp_args: ['-fcolor-diagnostics'],
)

message('\n‚öôÔ∏è  –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:')
message('----------------------')
message('–¢–∏–ø —Å–±–æ—Ä–∫–∏:    ' + get_option('buildtype'))
message('–°—Ç–∞–Ω–¥–∞—Ä—Ç C++:  ' + get_option('cpp_std'))
message('–ò—Å—Ö–æ–¥–Ω–∏–∫–æ–≤:    ' + '1')
message('–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:    ' + meson.current_build_dir())
message('----------------------\n')

if get_option('buildtype') == 'debug'
  message('üí° –°–æ–≤–µ—Ç: –î–ª—è release-—Å–±–æ—Ä–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: meson configure ' + meson.current_build_dir() + ' --buildtype=release')
endif
